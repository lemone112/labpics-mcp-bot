# Compose runtime
POSTGRES_DB=labpics
POSTGRES_USER=app
POSTGRES_PASSWORD=app

DB_PORT=5432
API_PORT=8080
WEB_PORT=3000
EDGE_HTTP_PORT=80
EDGE_HTTPS_PORT=443

# For browser calls from UI, prefer same-origin /api.
NEXT_PUBLIC_API_BASE_URL=/api
# Next.js internal proxy target (from web container)
API_UPSTREAM_URL=http://server:8080
# Browser origin accepted by API CORS (production domain)
CORS_ORIGIN=https://dashboard.lab.pics

DOMAIN=dashboard.lab.pics
API_UPSTREAM=server:8080
WEB_UPSTREAM=web:3000
ENABLE_EDGE_PROXY=true
EDGE_BASIC_AUTH_ENABLED=false
EDGE_BASIC_AUTH_USER=
EDGE_BASIC_AUTH_PASSWORD_HASH=

NODE_ENV=production

# Primary auth secret in format "login:password"
AUTH_CREDENTIALS=admin:admin
# Legacy fallback variables (optional)
AUTH_USERNAME=
AUTH_PASSWORD=
SESSION_COOKIE_NAME=sid
CSRF_COOKIE_NAME=csrf_token
NEXT_PUBLIC_CSRF_COOKIE_NAME=csrf_token
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=10
LOGIN_RATE_LIMIT_WINDOW_MINUTES=15

CHATWOOT_BASE_URL=https://app.chatwoot.com
CHATWOOT_ACCOUNT_ID=123
CHATWOOT_API_TOKEN=replace-me

ATTIO_BASE_URL=https://api.attio.com
ATTIO_API_TOKEN=
ATTIO_WORKSPACE_ID=
ATTIO_SYNC_LIMIT=200
ATTIO_MOCK_MODE=1

LINEAR_BASE_URL=https://api.linear.app/graphql
LINEAR_API_TOKEN=
LINEAR_WORKSPACE_ID=
LINEAR_SYNC_LIMIT=200
LINEAR_MOCK_MODE=1

OPENAI_API_KEY=replace-me
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIM=1536
EMBED_BATCH_SIZE=100
OPENAI_EMBED_MAX_INPUTS=100
OPENAI_TIMEOUT_MS=20000
EMBED_STALE_RECOVERY_MINUTES=30
CHUNK_SIZE=1000
MIN_EMBED_CHARS=30
CHATWOOT_CONVERSATIONS_LIMIT=60
CHATWOOT_CONVERSATIONS_PER_PAGE=25
CHATWOOT_PAGES_LIMIT=20
CHATWOOT_MESSAGES_LIMIT=300
CHATWOOT_LOOKBACK_DAYS=7
SEARCH_IVFFLAT_PROBES=10
SEARCH_HNSW_EF_SEARCH=40
STORAGE_BUDGET_GB=20
STORAGE_ALERT_THRESHOLD_PCT=85
WORKER_INTERVAL_SECONDS=60
WORKER_TICK_LIMIT=25

# Redis (Pub/Sub for real-time events, SSE broadcasting)
REDIS_URL=redis://redis:6379
REDIS_PORT=6379

# Telegram Bot (Cloudflare Worker)
TELEGRAM_BOT_TOKEN=
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
COMPOSIO_API_KEY=
BOT_ALLOWED_TELEGRAM_USER_IDS=
BOT_PORT=8787
