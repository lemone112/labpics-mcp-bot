# Labpics MCP Bot ‚Äî AI‚Äë–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∑–∞–π–Ω‚Äë—Å—Ç—É–¥–∏–∏ (v2)

Labpics MCP Bot ‚Äî —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç **–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–µ—Ä–µ–ø–∏—Å–∫–∏** –≤ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–º—è—Ç—å**, –∏–∑–≤–ª–µ–∫–∞–µ—Ç **–¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏/—Ä–∏—Å–∫–∏**, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç **PM (Linear)** –∏ **CRM (Attio)** –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Telegram**.

> **–≠—Ç–æ—Ç README ‚Äî –ø—Ä–æ v2**: –º—ã —Ñ–∏–∫—Å–∏—Ä—É–µ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è, –≥—Ä–∞–Ω–∏—Ü—ã tenant‚Äô–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ —Ç–æ, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ.

## –°—Ç–∞—Ç—É—Å—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**–°—Ç–∞—Ç—É—Å—ã:**
- ‚úÖ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- üß™ –ø—Ä–æ—Ç–æ—Ç–∏–ø / —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- üó∫Ô∏è –≤ –ø–ª–∞–Ω–∞—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
- **P0** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **P1** ‚Äî –¥–∞—ë—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∏ –∑–∞–º–µ—Ç–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç PM/CRM
- **P2** ‚Äî nice‚Äëto‚Äëhave, —É—Å–∏–ª–∏—Ç–µ–ª–∏

---

## 1) –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è v2 (–æ—Ç–≤–µ—Ç—ã –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### 1.1 Tenant boundary (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)
**–†–µ—à–µ–Ω–∏–µ (v2):** –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è = **Attio workspace** (CRM‚Äë–∫–æ–Ω—Ç—É—Ä) ‚úÖ/üß™

**–ü–æ—á–µ–º—É (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏):**
- –î–ª—è –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ ‚Äú–∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã‚Äù –ø–æ –∫–ª–∏–µ–Ω—Ç—É/—Å–¥–µ–ª–∫–µ ‚Äî CRM. –ò–º–µ–Ω–Ω–æ CRM –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–∞–¥–∏–∏, –º–µ—Ç—Ä–∏–∫–∏.
- Chatwoot account_id ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –û–Ω –º–æ–∂–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥/–æ—Ä–≥ (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç—ã–º), –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –±–∏–∑–Ω–µ—Å‚Äë–≥—Ä–∞–Ω–∏—Ü–µ–π.
- Linear workspace —Ç–æ–∂–µ –≤–∞–∂–µ–Ω, –Ω–æ –≤ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞—Ö PM —á–∞—Å—Ç–æ ‚Äú–ø–æ–¥—Å—Ç—Ä–æ–µ–Ω‚Äù –ø–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∞ CRM –æ—Ç—Ä–∞–∂–∞–µ—Ç –∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å.

**–ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–µ–π—á–∞—Å (—Ñ–∞–∫—Ç—ã –∏–∑ –ë–î):**
- –í `project_links` —É–∂–µ –µ—Å—Ç—å `attio.company`, `attio.person`, `attio.deal` –∏ `linear_issue` ‚Äî –∑–Ω–∞—á–∏—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —É–∂–µ –º—ã—Å–ª–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ CRM/PM (–∞ –Ω–µ –≤–æ–∫—Ä—É–≥ Telegram).

**–ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ–º:**
- –î–æ–±–∞–≤–ª—è–µ–º `organizations` –∏ —Ö—Ä–∞–Ω–∏–º `attio_workspace_id` / `attio_workspace_slug` –≤ `organizations.meta`.
- `projects.organization_id` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.
- `project_links` —Ä–∞—Å—à–∏—Ä—è–µ–º: —É –∫–∞–∂–¥–æ–≥–æ link –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `organization_id` (–∏–ª–∏ –æ–Ω –≤—ã–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ `project_id ‚Üí organization_id`).

–°—Ç–∞—Ç—É—Å: üó∫Ô∏è (DDL + –º–∏–≥—Ä–∞—Ü–∏—è).

---

### 1.2 User model
**–†–µ—à–µ–Ω–∏–µ (v2):** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –≤ Supabase, Telegram = identity/–∫–∞–Ω–∞–ª ‚úÖ/üß™

**–ü–æ—á–µ–º—É:**
- –î–ª—è SaaS –Ω—É–∂–Ω—ã —Ä–æ–ª–∏, —á–ª–µ–Ω—Å—Ç–≤–∞, –∞—É–¥–∏—Ç, –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–µ–±‚Äë–∫–ª–∏–µ–Ω—Ç—ã –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ identity (Telegram, email, SSO).
- –°–µ–π—á–∞—Å `telegram_user_id` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ primary –≤ state‚Äë—Ç–∞–±–ª–∏—Ü–∞—Ö ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä—ã–π MVP, –Ω–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è multi‚Äëtenant –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤.

**–ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ–º:**
- `users` (app-level) + `user_id` –∫–∞–∫ PK.
- `user_identities` (telegram) –∏–ª–∏ –∫–æ–ª–æ–Ω–∫–∞ `telegram_user_id` –≤ users.
- `memberships(user_id, organization_id, role)`.

–°—Ç–∞—Ç—É—Å: üó∫Ô∏è.

---

### 1.3 Source of truth –ø–æ –ø—Ä–æ–µ–∫—Ç—É
**–†–µ—à–µ–Ω–∏–µ (v2):** –ø—Ä–æ–µ–∫—Ç –≤ Supabase –∂–∏–≤—ë—Ç –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–¥–µ–ª–∫–µ –≤ Attio üß™

- `projects` = –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–º—è—Ç–∏.
- `attio.deal` = –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Å—É–º–º—ã/—Å—Ç–∞–¥–∏–∏/–≤–ª–∞–¥–µ–ª—å—Ü—ã).

**–ü—Ä–∞–≤–∏–ª–æ:** –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –≤ –ø—Ä–æ–¥–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å link –Ω–∞ `attio.deal` (–∫—Ä–æ–º–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö/—Ç–µ—Å—Ç–æ–≤—ã—Ö).

–°—Ç–∞—Ç—É—Å: üß™ (—É–∂–µ –µ—Å—Ç—å links, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏ UI‚Äë–ª–∏–Ω–∫–æ–≤–∫–∏).

---

### 1.4 –ì–¥–µ –∂–∏–≤—ë—Ç tool-layer
**–†–µ—à–µ–Ω–∏–µ (v2):** tool-layer ‚Äî –º–æ–¥—É–ª–∏ –≤–Ω—É—Ç—Ä–∏ `agent-gw`, –Ω–æ —Å—Ç—Ä–æ–≥–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ + –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã) üß™

–ü—Ä–∏—á–∏–Ω–∞: Cloudflare Workers –ø—Ä–æ—â–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å –∫–∞–∫ 3 —Å–µ—Ä–≤–∏—Å–∞, –Ω–æ –≤–Ω—É—Ç—Ä–∏ `agent-gw` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- intent-router
- context-builder
- tool-orchestrator
- tools/*

–°—Ç–∞—Ç—É—Å: üß™ (–Ω—É–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å).

---

### 1.5 –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
**–†–µ—à–µ–Ω–∏–µ (v2):** –≤—Å—ë, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –¥–µ–ª–∞–µ–º —á–µ—Ä–µ–∑ `automation_jobs` –∏ `idempotency_key` (DB‚Äëenforced) üó∫Ô∏è

**–§–∞–∫—Ç:** –º—ã —É–∂–µ –ª–æ–≤–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –¥–µ–¥—É–ø–∞ –Ω–∞ commitments (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å) –∏ –ø—Ä–∏–≤–µ–ª–∏ upsert –∫ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.

**–ü—Ä–∞–≤–∏–ª–æ:**
- –ª—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äú—Å–æ–∑–¥–∞—Ç—å issue/–æ–±–Ω–æ–≤–∏—Ç—å deal/–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç‚Äù ‚Üí job
- job –∏–º–µ–µ—Ç `idempotency_key`
- –≤ –ë–î —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `(organization_id, idempotency_key)`

---

## 2) –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –µ—Å—Ç—å)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Cloudflare Workers)
- ‚úÖ `tgbot` ‚Äî Telegram UI/—Å–æ—Å—Ç–æ—è–Ω–∏–µ/–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ `agent-gw` ‚Äî intent + commitments + –ø–æ–∏—Å–∫ (MVP)
- ‚úÖ `cw-sync` ‚Äî Chatwoot ‚Üí Supabase raw + `rag_chunks` + embeddings

### –ü–æ—Ç–æ–∫–∏
- ‚úÖ Telegram ‚Üí `tgbot` ‚Üí (HMAC) ‚Üí `agent-gw` ‚Üí Supabase
- ‚úÖ Chatwoot ‚Üí `cw-sync` ‚Üí Supabase (`cw_*` + `rag_chunks`)

---

## 3) –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö v2 (–ø–ª–∞–Ω)

### Multi-tenant
üó∫Ô∏è –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `organizations(id, name, billing_plan, meta, created_at)`
- `memberships(user_id, organization_id, role)`

üó∫Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- `projects` ‚Üí –¥–æ–±–∞–≤–∏—Ç—å `organization_id` (NOT NULL)
- –í—Å–µ ‚Äú–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ‚Äù —Ç–∞–±–ª–∏—Ü—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø—Ä–æ–µ–∫—Ç—É (–∞ –∑–Ω–∞—á–∏—Ç –∫ org).

### Commitments v2
üó∫Ô∏è –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
- `owner_id`
- `confidence_score` (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ 0..1)
- `linked_linear_issue_id`
- `last_synced_at`

### Usage tracking
üó∫Ô∏è –¢–∞–±–ª–∏—Ü–∞ `usage_events`:
- `organization_id`, `project_id`, `event_type`
- `tokens_input`, `tokens_output`, `embedding_tokens`
- `external_api_calls`, `cost_estimate`, `created_at`

### Automation jobs v2
üó∫Ô∏è –†–∞—Å—à–∏—Ä–∏—Ç—å/–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å `automation_jobs`:
- `status: pending/running/failed/done`
- `retry_count`
- `idempotency_key`
- `last_error`

---

## 4) RAG v2 (–∫–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)

### Retrieval pipeline (—Ü–µ–ª–µ–≤–æ–π)
**P0:** embedding search —á–µ—Ä–µ–∑ RPC `match_rag_chunks` üó∫Ô∏è

–ê–ª–≥–æ—Ä–∏—Ç–º:
1) embedding –∑–∞–ø—Ä–æ—Å–∞
2) vector similarity topK=50
3) –¥–µ–¥—É–ø –ø–æ `message_global_id`
4) top 15 chunks
5) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) LLM rerank

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- `max_chunks = 15`
- `max_context_tokens = 6000`

**–§–∞–∫—Ç—ã –∏–∑ –ë–î:**
- RPC `match_rag_chunks` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚úÖ
- –í `rag_chunks.embedding` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pgvector ‚úÖ

---

## 5) –û—á–µ—Ä–µ–¥–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

### Cloudflare Queues
**P0:**
- üó∫Ô∏è `automation-queue`
- üó∫Ô∏è `automation-worker` (–æ—Ç–¥–µ–ª—å–Ω—ã–π Worker)

**Retry:**
- exponential backoff
- max 5 retries
- DLQ

**Idempotency:**
- —Å—Ç—Ä–æ–≥–æ —á–µ—Ä–µ–∑ `idempotency_key` + —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å

---

## 6) Telegram UI v2 (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ commitments)

**P1:** Commitments lifecycle UI üó∫Ô∏è
- done
- cancel
- assign owner
- set due
- create Linear issue

–ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞: —ç—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç ‚Äú–∏–∑–≤–ª–µ–∫–ª–∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏‚Äù ‚Üí ‚Äú—É–ø—Ä–∞–≤–ª—è–µ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º‚Äù.

---

## 7) CRM patch flow (Attio)

**P1:**
1) agent –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç patch diff
2) Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç diff
3) Apply / Ignore
4) Apply ‚Üí `automation_job`
5) `audit_log` + evidence

–°—Ç–∞—Ç—É—Å: üß™ (–µ—Å—Ç—å links –∏ –∑–∞–¥—É–º–∫–∞, –Ω—É–∂–µ–Ω tool + UI + worker).

---

## 8) Weekly Digest

**P1:** weekly digest üó∫Ô∏è
- –∑–∞–∫—Ä—ã—Ç—ã–µ commitments
- –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ
- –Ω–æ–≤—ã–µ —Ä–∏—Å–∫–∏
- –∏–Ω—Å–∞–π—Ç—ã
- Linear summary

–§–æ—Ä–º–∞—Ç—ã:
- Telegram —Å–æ–æ–±—â–µ–Ω–∏–µ
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Linear comment

---

## 9) Observability (—á—Ç–æ –∏–∑–º–µ—Ä—è–µ–º)

**P0:** üó∫Ô∏è
- `correlation_id` –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- structured JSON logs
- latency p95
- queue depth
- automation failure rate
- cost per org

---

## 10) –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ LLM

**P0:** üó∫Ô∏è Budget manager –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
- max_tokens_input / output
- max_commitments_per_run
- max_tool_calls_per_request
- degrade strategy: –¥–µ—à—ë–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è intent, –æ—Å–Ω–æ–≤–Ω–∞—è –¥–ª—è reasoning

---

## 11) –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π roadmap (—á—Ç–æ –¥–µ–ª–∞–µ–º –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ)

### P0 (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å + –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- üó∫Ô∏è organizations/memberships + project.organization_id
- üó∫Ô∏è usage_events (—É—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –ª–∏–º–∏—Ç–æ–≤)
- üó∫Ô∏è embedding search —á–µ—Ä–µ–∑ `match_rag_chunks` + –¥–µ–¥—É–ø –ø–æ message
- üó∫Ô∏è automation-worker + queue + DLQ + idempotency_key
- üó∫Ô∏è structured logs + correlation_id

### P1 (–ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç—É–¥–∏–∏)
- üó∫Ô∏è Commitments lifecycle UI
- üß™ Linear actions —á–µ—Ä–µ–∑ automation_jobs (create/update/link)
- üß™ Attio patch preview/apply
- üó∫Ô∏è Weekly digest

### P2 (—É—Å–∏–ª–∏—Ç–µ–ª–∏)
- üó∫Ô∏è Onboarding wizard
- üó∫Ô∏è Billing hooks/–ª–∏–º–∏—Ç—ã —Ç–∞—Ä–∏—Ñ–æ–≤
- üó∫Ô∏è –ú—É–ª—å—Ç–∏‚Äë–∫–∞–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–Ω–µ —Ç–æ–ª—å–∫–æ Telegram)

---

## 12) –†–µ–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç—ã –∏–∑ —Ç–µ–∫—É—â–µ–π –ë–î (—Å—Ä–µ–∑)

> –≠—Ç–∏ —Ü–∏—Ñ—Ä—ã ‚Äî –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è sanity‚Äëcheck –∏ —ç–≤–æ–ª—é—Ü–∏–∏ —Å—Ö–µ–º—ã.

- `project_links` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø—ã:
  - `linear.linear_issue` (–Ω–µ—Å–∫–æ–ª—å–∫–æ)
  - `attio.company/deal/person`
  - `chatwoot.contact/conversation/message`

- `rag_chunks` –µ—Å—Ç—å, embeddings —Å–µ–π—á–∞—Å –º–æ–≥—É—Ç –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ `pending`.

---

## 13) –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å)

- –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions:
  - ‚úÖ `Deploy (dev)` ‚Äî auto –Ω–∞ push –≤ `main`
  - ‚úÖ `Deploy (prod)` ‚Äî manual

- –í `tgbot` –µ—Å—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  - ‚úÖ `GET /__whoami`
  - ‚úÖ `GET /__env`
  - ‚úÖ `GET /health`

- –í `cw-sync`:
  - ‚úÖ `GET /health`
  - ‚úÖ `GET /sync` (Bearer `SYNC_TOKEN`)
  - ‚úÖ `GET /embed` (Bearer `SYNC_TOKEN`)
