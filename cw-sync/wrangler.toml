name = "cw-sync"
main = "src/index.js"
compatibility_date = "2026-02-16"

[vars]
# Runtime vars should be set in Cloudflare dashboard (recommended).
# SUPABASE_URL = "https://<ref>.supabase.co"
# CHATWOOT_BASE_URL = "https://app.chatwoot.com"
# CHATWOOT_ACCOUNT_ID = "123"
# SYNC_TABLE = "rag_chatwoot_sync_state"
# RAG_TABLE = "rag_chunks"
# EMBEDDING_MODEL = "text-embedding-3-small"

[triggers]
# Runs every 10 minutes (embeddings) and daily at 00:00 UTC window (sync) inside code.
crons = ["*/10 * * * *"]
