# Спека 0002 — Commitments v1 (DRAFT)

Статус: **draft**

## Цель

Автоматически выделять **договорённости / обязательства / следующие шаги** (commitments) по каждому проекту на основе переписки.

## Семантика

Commitment — это утверждение вида:

- «мы сделаем X к сроку Y»
- «клиент пришлёт X к сроку Y»

Commitment должен быть:

- привязан к проекту
- подтверждён доказательством (evidence-first)
- редактируем человеком
- устойчив к повторным прогонам (без дублей)

### Что считается commitment

- явное обещание/обязательство
- явно сформулированный следующий шаг (с ответственностью)
- договорённость по срокам/объёму/передаче материалов

### Что **не** считается commitment

- варианты/обсуждения без финального решения
- гипотезы (“возможно сделаем”)
- внутренние заметки без клиентского контекста

## Поведение

### Извлечение

- Система периодически (или по кнопке) анализирует новую память проекта и извлекает commitments.
- Повторный прогон не должен создавать дубликаты.

### Ворота уверенности

- Если уверенность низкая/средняя → commitment попадает в **«предложенные»**.
- Если уверенность высокая → commitment становится **«активным»**.

Важно: «предложенные» не должны портить KPI и не должны считаться “мы уже обязались”.

### Ручные правки

- Человек может править текст/срок/ответственного/статус.
- Автоматика не должна молча перетирать ручные правки.

## UX

В проекте есть список commitments с разделением:

- **Активные** (официальные)
- **Предложенные** (требуют подтверждения)
- **Закрытые**

Действия:

- подтвердить предложенный
- отметить выполненным
- отменить
- отредактировать
- открыть первоисточник (evidence)

Сортировки:

- просроченные → ближайшие → без срока

## Наблюдаемость

Пользователь видит:

- сколько commitments найдено
- сколько активировано автоматически
- сколько попало в предложенные
- сколько подтверждено вручную

## Acceptance criteria

- Каждый активный commitment содержит evidence.
- Список не захламляется дублями.
- Commitments строго изолированы по проектам.
- Ручные правки сохраняются.
