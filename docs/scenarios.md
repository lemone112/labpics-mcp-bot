# Ручные сценарии (LightRAG-only)

Обновлено: 2026-02-20

## Сценарий 1: Поиск договорённости клиента через LightRAG

1. Выбрать активный проект.
2. Открыть `/search`.
3. Выполнить запрос: «что клиент обещал по дедлайну».
4. Проверить:
   - есть `answer`;
   - есть `chunks`;
   - есть `evidence` из source-таблиц.

Ожидаемый результат: пользователь получает единый контекст из чатов/задач/сделок.

---

## Сценарий 2: Проверка полноты sync после загрузки тестовых сделок

1. Запустить `POST /connectors/sync`.
2. Открыть `Control Tower -> Dashboard`.
3. Проверить график полноты синхронизации.
4. Дополнительно вызвать `GET /connectors/reconciliation`.

Ожидаемый результат: completeness растет, missing/duplicate контролируемы.

---

## Сценарий 3: Диагностика ошибки коннектора и восстановление

1. Вызвать `GET /connectors/errors`.
2. Для проблемного источника выполнить `POST /connectors/errors/retry`.
3. Повторно проверить состояние через `GET /connectors/state`.

Ожидаемый результат: ошибка переходит в `resolved` или получает корректный `next_retry_at` без падения всего пайплайна.

---

## Сценарий 4: Утренний статус проектов через Telegram (Iter 50)

1. Открыть Telegram бот.
2. Нажать кнопку "Status" или отправить `/status`.
3. Бот возвращает карточку проекта: задачи в работе, риски, непрочитанные сообщения.
4. Для деталей: нажать inline-кнопку "Details" → развернутый вид.

Ожидаемый результат: PM получает актуальный контекст за 10 секунд без открытия браузера.

---

## Сценарий 5: Поиск через Telegram с помощью LightRAG (Iter 50)

1. Открыть Telegram бот.
2. Отправить текстовый запрос: «что решили по дизайну главной?».
3. Бот ищет через LightRAG MCP → возвращает answer + evidence.
4. Нажать "Sources" → список ссылок на сообщения/задачи.

Ожидаемый результат: поиск по knowledge base прямо из Telegram.

---

## Сценарий 6: Просмотр автоматического еженедельного отчёта (Iter 48)

1. Открыть Reports page.
2. Выбрать "Project Status — Weekly".
3. Просмотреть автоматически сгенерированный отчёт: прогресс задач, риски, ключевые сообщения.
4. Скачать или переслать.

Ожидаемый результат: еженедельный отчёт готов без ручной работы.

---

## Сценарий 7: Мониторинг здоровья системы (Iter 46)

1. Открыть System page.
2. Проверить статус сервисов (API, Redis, PostgreSQL, Connectors).
3. Проверить job dashboard: последние запуски, длительность, ошибки.
4. Проверить connector timeline: успешность sync за последние 24 часа.

Ожидаемый результат: Owner видит здоровье системы без CLI/Grafana.

---

## Сценарий 8: Управление доступом команды (Iter 49)

1. Owner открывает Team page.
2. Создаёт нового PM-пользователя.
3. Назначает PM на конкретные проекты.
4. PM логинится → видит только свои проекты.

Ожидаемый результат: PM имеет доступ только к назначенным проектам, Owner — ко всем.

---

## Сценарий 9: Голосовой запрос в Telegram (Iter 51)

1. Отправить голосовое сообщение в Telegram бот.
2. Whisper транскрибирует → текст отправляется в NLU.
3. Бот определяет intent (поиск / статус / создание задачи).
4. Выполняет действие и возвращает результат.

Ожидаемый результат: hands-free взаимодействие с системой.

---

## Сценарий 10: Deep chart analysis (Iter 20.5)

1. Открыть Dashboard в Control Tower.
2. Навести на график → tooltip с значением, %, трендом.
3. Нажать на график → fullscreen modal с drill-down.
4. На мобильном: compact sparkline → tap для standard view.

Ожидаемый результат: графики информативны на всех breakpoints, с consistent styling.
